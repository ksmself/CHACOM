"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.check = void 0;
const pinyin_utils_1 = require("pinyin-utils");
const zhuyin_1 = require("zhuyin");
const ranges = [
    {
        start: parseInt('2E80', 16),
        end: parseInt('2FD5', 16)
    },
    {
        start: parseInt('3400', 16),
        end: parseInt('4DBF', 16)
    },
    {
        start: parseInt('4E00', 16),
        end: parseInt('9FCC', 16)
    }
];
const check = (text) => {
    const numberedPinnyinRE = /[a-z√º]+[1-5]/i;
    if (numberedPinnyinRE.test(zhuyin_1.toPinyin(text, { numbered: true }).join(''))) {
        return 'zhuyin';
    }
    else if (numberedPinnyinRE.test(text)) {
        return 'pinyin-numbered';
    }
    else {
        for (let tone of pinyin_utils_1.toneMarks) {
            if (text.normalize('NFD').includes(tone)) {
                return 'pinyin-marked';
            }
        }
    }
    for (let i = 0; i < text.length; i++) {
        let code = text[i].charCodeAt(0);
        for (let range of ranges) {
            if (code >= range.start && code <= range.end) {
                return 'mandarin';
            }
        }
    }
    return 'other';
};
exports.check = check;
exports.default = exports.check;
